{"ast":null,"code":"import { products } from '../products';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../product-alerts/product-alerts.component\";\nimport * as i3 from \"../product-item/product-item.component\";\nfunction ProductListComponent_div_2_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"app-product-item\", 6);\n    i0.ɵɵelementStart(2, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_3_div_1_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r5.share(item_r4.link, item_r4.name));\n    });\n    i0.ɵɵtext(3, \" Share \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_3_div_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const category_r1 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.likeItem(category_r1.category_id, item_r4.id));\n    });\n    i0.ɵɵtext(5, \" Like \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_div_3_div_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const category_r1 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.removeItem(category_r1.category_id, item_r4.id));\n    });\n    i0.ɵɵtext(7, \" Remove \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"app-product-alerts\", 10);\n    i0.ɵɵlistener(\"notify\", function ProductListComponent_div_2_div_3_div_1_Template_app_product_alerts_notify_8_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.onNotify());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"product\", item_r4);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"product\", item_r4);\n  }\n}\nfunction ProductListComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductListComponent_div_2_div_3_div_1_Template, 10, 2, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", category_r1.items);\n  }\n}\nfunction ProductListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"p\", 2);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_Template_p_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const category_r1 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.categoryPressed(category_r1.category_id));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProductListComponent_div_2_div_3_Template, 2, 1, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(category_r1.category_name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", category_r1.display);\n  }\n}\nexport class ProductListComponent {\n  constructor() {\n    this.products = products;\n  }\n  categoryPressed(category_id) {\n    products[category_id].display = !products[category_id].display;\n  }\n  share(link, text) {\n    window.open('https://telegram.me/share/url?url=' + link, '_blank');\n  }\n  likeItem(category_id, item_id) {\n    products[category_id].items[item_id].likes += 1;\n  }\n  removeItem(category_id, item_id) {\n    products[category_id].items.splice(item_id, 1);\n    for (var i = item_id; i < products[category_id].items.length; i++) {\n      products[category_id].items[i].id = i;\n    }\n  }\n  onNotify() {\n    window.alert('You will be notified when the product goes on sale');\n  }\n}\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)();\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[\"class\", \"category\", 4, \"ngFor\", \"ngForOf\"], [1, \"category\"], [1, \"category_name\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"product\", 4, \"ngFor\", \"ngForOf\"], [1, \"product\"], [3, \"product\"], [3, \"click\"], [1, \"like-button\", 3, \"click\"], [1, \"remove-button\", 3, \"click\"], [3, \"product\", \"notify\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Product categories\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ProductListComponent_div_2_Template, 4, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.ProductAlertsComponent, i3.ProductItemComponent],\n  styles: [\"h2[_ngcontent-%COMP%]{\\r\\n    font-weight: bold;\\r\\n    font-size: 25px;\\r\\n    color:royalblue;\\r\\n    font-weight: inherit;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC1saXN0L3Byb2R1Y3QtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixlQUFlO0lBQ2Ysb0JBQW9CO0FBQ3hCOzs7QUFHQTs7Ozs7OztHQU9HO0FBQ0g7Ozs7Q0FJQyIsInNvdXJjZXNDb250ZW50IjpbImgye1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICBjb2xvcjpyb3lhbGJsdWU7XHJcbiAgICBmb250LXdlaWdodDogaW5oZXJpdDtcclxufVxyXG5cclxuXHJcbi8qIFxyXG4uaXRlbS1pbWFnZXtcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuLml0ZW0taW1hZ2U6aG92ZXJ7XHJcbiAgICBvcGFjaXR5OiA3MCU7XHJcbn0gKi9cclxuLypcclxuQ29weXJpZ2h0IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcblVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXRcclxuY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcclxuKi8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,QAAQ,QAAQ,aAAa;;;;;;;;ICKlCC,8BAAyD;IAGvDA,sCAEmB;IAGnBA,iCAA8C;IAAtCA;MAAA;MAAA;MAAA;MAAA,OAASA,uDAA2B;IAAA,EAAC;IAC3CA,uBACF;IAAAA,iBAAS;IAGTA,iCAAgF;IAAxEA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,mEAAuC;IAAA,EAAC;IACvDA,sBACF;IAAAA,iBAAS;IAGTA,iCAAoF;IAA5EA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,qEAAyC;IAAA,EAAC;IACzDA,wBACF;IAAAA,iBAAS;IAGTA,8CAEwB;IAAtBA;MAAAA;MAAA;MAAA,OAAUA,iCAAU;IAAA,EAAC;IACvBA,iBAAqB;IACrBA,qBAAI;IACNA,iBAAM;;;;IAxBFA,eAAgB;IAAhBA,iCAAgB;IAoBhBA,eAAgB;IAAhBA,iCAAgB;;;;;IAzBtBA,2BAA8B;IAC5BA,kFA4BM;IACRA,iBAAM;;;;IA7BkBA,eAAiB;IAAjBA,2CAAiB;;;;;;IAL3CA,8BAAwD;IAEnDA;MAAA;MAAA;MAAA;MAAA,OAASA,+DAAqC;IAAA,EAAC;IAAuBA,YAA0B;IAAAA,iBAAI;IAEvGA,2EA8BM;IAERA,iBAAM;;;;IAlCqEA,eAA0B;IAA1BA,+CAA0B;IAE7FA,eAAsB;IAAtBA,0CAAsB;;;ADG9B,OAAM,MAAOC,oBAAoB;EALjCC;IAME,aAAQ,GAAGH,QAAQ;;EAEnBI,eAAe,CAACC,WAAW;IACzBL,QAAQ,CAACK,WAAW,CAAC,CAACC,OAAO,GAAG,CAACN,QAAQ,CAACK,WAAW,CAAC,CAACC,OAAO;EAChE;EAEAC,KAAK,CAACC,IAAY,EAAEC,IAAY;IAC9BC,MAAM,CAACC,IAAI,CAAC,oCAAoC,GAACH,IAAI,EAAE,QAAQ,CAAC;EAClE;EAEAI,QAAQ,CAACP,WAAW,EAAEQ,OAAO;IAC3Bb,QAAQ,CAACK,WAAW,CAAC,CAACS,KAAK,CAACD,OAAO,CAAC,CAACE,KAAK,IAAE,CAAC;EAC/C;EAEAC,UAAU,CAACX,WAAW,EAAEQ,OAAO;IAC7Bb,QAAQ,CAACK,WAAW,CAAC,CAACS,KAAK,CAACG,MAAM,CAACJ,OAAO,EAAE,CAAC,CAAC;IAC9C,KAAK,IAAIK,CAAC,GAACL,OAAO,EAAEK,CAAC,GAAClB,QAAQ,CAACK,WAAW,CAAC,CAACS,KAAK,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7DlB,QAAQ,CAACK,WAAW,CAAC,CAACS,KAAK,CAACI,CAAC,CAAC,CAACE,EAAE,GAAGF,CAAC;;EAEzC;EAEAG,QAAQ;IACNX,MAAM,CAACY,KAAK,CAAC,oDAAoD,CAAC;EACpE;;AAxBWpB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCTjC1B,0BAAI;MAAAA,kCAAkB;MAAAA,iBAAK;MAE3BA,qEAoCM;;;MApCoBA,eAAW;MAAXA,sCAAW","names":["products","i0","ProductListComponent","constructor","categoryPressed","category_id","display","share","link","text","window","open","likeItem","item_id","items","likes","removeItem","splice","i","length","id","onNotify","alert","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Asus\\Documents\\web23\\lab5\\src\\app\\product-list\\product-list.component.ts","C:\\Users\\Asus\\Documents\\web23\\lab5\\src\\app\\product-list\\product-list.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\n\r\nimport { products } from '../products';\r\n\r\n@Component({\r\n  selector: 'app-product-list',\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListComponent {\r\n  products = products;\r\n\r\n  categoryPressed(category_id) {\r\n    products[category_id].display = !products[category_id].display\r\n  }\r\n\r\n  share(link: String, text: String) {\r\n    window.open('https://telegram.me/share/url?url='+link, '_blank')\r\n  }\r\n\r\n  likeItem(category_id, item_id) {\r\n    products[category_id].items[item_id].likes+=1\r\n  }\r\n\r\n  removeItem(category_id, item_id) {\r\n    products[category_id].items.splice(item_id, 1)\r\n    for (var i=item_id; i<products[category_id].items.length; i++) {\r\n      products[category_id].items[i].id = i\r\n    }\r\n  }\r\n\r\n  onNotify() {\r\n    window.alert('You will be notified when the product goes on sale');\r\n  }\r\n}","<h2>Product categories</h2>\r\n\r\n<div *ngFor=\"let category of products\" class=\"category\">\r\n\r\n  <p (click)=\"categoryPressed(category.category_id)\" class=\"category_name\">{{category.category_name}}</p>\r\n\r\n  <div *ngIf=\"category.display\">\r\n    <div *ngFor=\"let item of category.items\" class=\"product\">\r\n\r\n      <!-- Product information -->\r\n      <app-product-item\r\n        [product]=\"item\">\r\n      </app-product-item>\r\n\r\n      <!-- Button for telegram share link -->\r\n      <button (click)=\"share(item.link, item.name)\">\r\n        Share\r\n      </button>\r\n\r\n       <!-- Button to like the product-->\r\n      <button (click)=\"likeItem(category.category_id, item.id)\" class = 'like-button'>\r\n        Like\r\n      </button>\r\n\r\n       <!-- Button for removing product -->\r\n      <button (click)=\"removeItem(category.category_id, item.id)\" class = 'remove-button'>\r\n        Remove\r\n      </button>\r\n\r\n      <!-- Button \"Notify me\" -->\r\n      <app-product-alerts\r\n        [product]=\"item\" \r\n        (notify)=\"onNotify()\">\r\n      </app-product-alerts>\r\n      <hr>\r\n    </div>\r\n  </div>\r\n\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}